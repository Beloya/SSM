# SQL Manager for MySQL 5.4.3.43929
# ---------------------------------------
# Host     : 119.29.112.39
# Port     : 3306
# Database : MyBlog


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

SET FOREIGN_KEY_CHECKS=0;

DROP DATABASE IF EXISTS `MyBlog`;

CREATE DATABASE `MyBlog`
    CHARACTER SET 'latin1'
    COLLATE 'latin1_swedish_ci';

USE `MyBlog`;

#
# Dropping database objects
#

DROP TABLE IF EXISTS `users`;
DROP TABLE IF EXISTS `type`;
DROP TABLE IF EXISTS `roles_permissions`;
DROP TABLE IF EXISTS `roles`;
DROP TABLE IF EXISTS `message_board`;
DROP TABLE IF EXISTS `message`;
DROP TABLE IF EXISTS `flag`;
DROP TABLE IF EXISTS `blog`;
DROP TABLE IF EXISTS `archivesvisibility`;
DROP TABLE IF EXISTS `archivescommit`;
DROP TABLE IF EXISTS `archives`;
DROP TABLE IF EXISTS `archiveflag`;
DROP TABLE IF EXISTS `SysLink`;
DROP TABLE IF EXISTS `PDMAN_DB_VERSION`;

#
# Structure for the `PDMAN_DB_VERSION` table : 
#

CREATE TABLE `PDMAN_DB_VERSION` (
  `DB_VERSION` VARCHAR(255) COLLATE latin1_swedish_ci DEFAULT NULL,
  `VERSION_DESC` VARCHAR(255) COLLATE latin1_swedish_ci DEFAULT NULL,
  `CREATED_TIME` VARCHAR(255) COLLATE latin1_swedish_ci DEFAULT NULL
)ENGINE=InnoDB
ROW_FORMAT=DYNAMIC CHARACTER SET 'latin1' COLLATE 'latin1_swedish_ci'
COMMENT=''
;

#
# Structure for the `SysLink` table : 
#

CREATE TABLE `SysLink` (
  `MENU_ID` INTEGER(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `PM_ID` INTEGER(11) NOT NULL DEFAULT 0 COMMENT '父级',
  `Type` INTEGER(11) NOT NULL COMMENT '类别;0-菜单1-链接\n2-后台管理',
  `NAME` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '名称',
  `LINK` VARCHAR(255) COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '链接',
  `ORDER` INTEGER(11) DEFAULT NULL COMMENT '排序',
  `REMARKS` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '备注',
  `REVISION` INTEGER(11) DEFAULT NULL COMMENT '乐观锁',
  `CREATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL COMMENT '创建人',
  `CREATED_TIME` DATETIME NOT NULL DEFAULT 'CURRENT_TIMESTAMP' COMMENT '创建时间',
  `UPDATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '更新人',
  `UPDATED_TIME` DATETIME DEFAULT NULL COMMENT '更新时间',
  `STATUS` INTEGER(11) NOT NULL DEFAULT 0 COMMENT '1审核||0正常||-1失效',
  PRIMARY KEY USING BTREE (`MENU_ID`) COMMENT '',
   INDEX `INDEX` USING BTREE (`PM_ID`) COMMENT ''
)ENGINE=InnoDB
AUTO_INCREMENT=10 AVG_ROW_LENGTH=1820 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `archiveflag` table : 
#

CREATE TABLE `archiveflag` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `AID` INTEGER(11) NOT NULL COMMENT '文章ID',
  `FID` INTEGER(11) NOT NULL COMMENT '标签ID',
  `REVISION` INTEGER(11) DEFAULT NULL COMMENT '乐观锁',
  `CREATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL COMMENT '创建人',
  `CREATED_TIME` DATETIME NOT NULL COMMENT '创建时间',
  `UPDATED_BY` INTEGER(11) DEFAULT NULL COMMENT '更新人',
  `UPDATED_TIME` DATETIME DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY USING BTREE (`ID`) COMMENT '',
   INDEX `Index` USING BTREE (`AID`, `FID`, `ID`) COMMENT ''
)ENGINE=InnoDB
AUTO_INCREMENT=48 AVG_ROW_LENGTH=2340 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `archives` table : 
#

CREATE TABLE `archives` (
  `AID` INTEGER(11) NOT NULL AUTO_INCREMENT COMMENT '主键;自增',
  `Title` VARCHAR(100) COLLATE utf8mb4_general_ci NOT NULL COMMENT '标题',
  `context` LONGTEXT COLLATE utf8mb4_general_ci NOT NULL COMMENT '内容',
  `Type` INTEGER(11) NOT NULL COMMENT '类型',
  `CREATED_BY` VARCHAR(32) COLLATE utf8mb4_general_ci NOT NULL COMMENT '创建人',
  `CREATED_TIME` DATETIME NOT NULL COMMENT '创建时间',
  `UPDATED_BY` VARCHAR(32) COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '更新人',
  `UPDATED_TIME` DATETIME DEFAULT NULL COMMENT '更新时间',
  `Status` INTEGER(11) NOT NULL COMMENT '状态;1审核||0正常||-1失效',
  `ReadCount` INTEGER(11) NOT NULL DEFAULT 0 COMMENT '阅读数',
  `Flag` INTEGER(11) DEFAULT 0 COMMENT '标签;外键',
  `VID` INTEGER(11) NOT NULL COMMENT '可见性;外键',
  PRIMARY KEY USING BTREE (`AID`) COMMENT '',
   INDEX `Index` USING BTREE (`AID`, `VID`, `Flag`) COMMENT ''
)ENGINE=InnoDB
AUTO_INCREMENT=39 AVG_ROW_LENGTH=32768 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `archivescommit` table : 
#

CREATE TABLE `archivescommit` (
  `CID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `Context` LONGTEXT COLLATE utf8mb4_general_ci NOT NULL,
  `PID` INTEGER(11) DEFAULT NULL,
  `REVISION` INTEGER(11) DEFAULT NULL,
  `CREATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL,
  `CREATED_TIME` DATETIME NOT NULL,
  `UPDATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `UPDATED_TIME` DATETIME DEFAULT NULL,
  `Status` INTEGER(11) NOT NULL,
  `AID` INTEGER(11) NOT NULL,
  `TYPE` INTEGER(11) NOT NULL DEFAULT 0,
  `Name` VARCHAR(55) COLLATE utf8mb4_general_ci DEFAULT NULL,
  PRIMARY KEY USING BTREE (`CID`) COMMENT '',
   INDEX `INDEX` USING BTREE (`CID`, `PID`, `AID`) COMMENT ''
)ENGINE=InnoDB
AUTO_INCREMENT=77 AVG_ROW_LENGTH=1365 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `archivesvisibility` table : 
#

CREATE TABLE `archivesvisibility` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `Vdescribe` VARCHAR(100) COLLATE utf8mb4_general_ci NOT NULL,
  `REVISION` INTEGER(11) DEFAULT NULL,
  `CREATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL,
  `CREATED_TIME` DATETIME NOT NULL,
  `UPDATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `UPDATED_TIME` DATETIME DEFAULT NULL,
  `Status` INTEGER(11) NOT NULL,
  PRIMARY KEY USING BTREE (`ID`) COMMENT ''
)ENGINE=InnoDB
AUTO_INCREMENT=3 AVG_ROW_LENGTH=8192 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `blog` table : 
#

CREATE TABLE `blog` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `BlogName` VARCHAR(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT '博客名',
  `REVISION` INTEGER(11) DEFAULT NULL COMMENT '乐观锁',
  `CREATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL COMMENT '创建人',
  `CREATED_TIME` DATETIME NOT NULL COMMENT '创建时间',
  `UPDATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '更新人',
  `UPDATED_TIME` DATETIME DEFAULT NULL COMMENT '更新时间',
  `Title` VARCHAR(250) COLLATE utf8mb4_general_ci NOT NULL COMMENT '标题',
  `MessageSay` LONGTEXT COLLATE utf8mb4_general_ci,
  `HeaderSkin` VARCHAR(100) COLLATE utf8mb4_general_ci DEFAULT NULL,
  PRIMARY KEY USING BTREE (`ID`) COMMENT '',
  UNIQUE INDEX `CREATED_BY` USING BTREE (`CREATED_BY`) COMMENT ''
)ENGINE=InnoDB
AUTO_INCREMENT=2 AVG_ROW_LENGTH=16384 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `flag` table : 
#

CREATE TABLE `flag` (
  `FID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `Fdescribe` VARCHAR(25) COLLATE utf8mb4_general_ci NOT NULL,
  `REVISION` INTEGER(11) DEFAULT NULL,
  `CREATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL,
  `CREATED_TIME` DATETIME NOT NULL,
  `UPDATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `UPDATED_TIME` DATETIME DEFAULT NULL,
  `Status` INTEGER(11) NOT NULL DEFAULT 0,
  PRIMARY KEY USING BTREE (`FID`) COMMENT ''
)ENGINE=InnoDB
AUTO_INCREMENT=16 AVG_ROW_LENGTH=5461 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `message` table : 
#

CREATE TABLE `message` (
  `ID` INTEGER(11) NOT NULL COMMENT '主键;自增',
  `Context` LONGTEXT COLLATE utf8mb4_general_ci COMMENT '内容',
  `Link` VARCHAR(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT '链接',
  `REVISION` INTEGER(11) DEFAULT NULL COMMENT '乐观锁',
  `CREATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL COMMENT '创建人',
  `CREATED_TIME` DATETIME NOT NULL COMMENT '创建时间',
  `UPDATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '更新人',
  `UPDATED_TIME` DATETIME DEFAULT NULL COMMENT '更新时间',
  `Status` INTEGER(11) NOT NULL COMMENT '状态;1审核||0正常||-1失效',
  PRIMARY KEY USING BTREE (`ID`) COMMENT ''
)ENGINE=InnoDB
ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `message_board` table : 
#

CREATE TABLE `message_board` (
  `MBID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `Context` LONGTEXT COLLATE utf8mb4_general_ci NOT NULL,
  `REVISION` INTEGER(11) DEFAULT NULL,
  `CREATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL,
  `CREATED_TIME` DATETIME NOT NULL,
  `UPDATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `UPDATED_TIME` DATETIME DEFAULT NULL,
  `Status` INTEGER(11) NOT NULL,
  `Name` VARCHAR(45) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `MBPID` INTEGER(11) DEFAULT NULL,
  PRIMARY KEY USING BTREE (`MBID`) COMMENT '',
   INDEX `INDEX` USING BTREE (`MBID`, `MBPID`) COMMENT ''
)ENGINE=InnoDB
AUTO_INCREMENT=4 AVG_ROW_LENGTH=5461 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `roles` table : 
#

CREATE TABLE `roles` (
  `R_Id` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `RoleName` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL,
  `description` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `CreatorId` INTEGER(11) DEFAULT NULL,
  `CreateDate` DATETIME NOT NULL,
  `DataLevel` TINYINT(4) NOT NULL DEFAULT 0,
  PRIMARY KEY USING BTREE (`R_Id`) COMMENT '',
   INDEX `INDEX` USING BTREE (`R_Id`) COMMENT ''
)ENGINE=InnoDB
AUTO_INCREMENT=5 AVG_ROW_LENGTH=5461 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `roles_permissions` table : 
#

CREATE TABLE `roles_permissions` (
  `RP_Id` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `RId` INTEGER(11) NOT NULL,
  `permission` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL,
  `CreatorId` INTEGER(11) DEFAULT NULL,
  `CreateDate` DATETIME NOT NULL,
  `DataLevel` TINYINT(4) DEFAULT 0,
  PRIMARY KEY USING BTREE (`RP_Id`) COMMENT '',
   INDEX `PRid_INDEX` USING BTREE (`RId`) COMMENT '',
  CONSTRAINT `roles_permissions_fk1` FOREIGN KEY (`RId`) REFERENCES `roles` (`R_Id`)
)ENGINE=InnoDB
AUTO_INCREMENT=11 AVG_ROW_LENGTH=3276 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `type` table : 
#

CREATE TABLE `type` (
  `TID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `Tdescribe` VARCHAR(25) COLLATE utf8mb4_general_ci NOT NULL,
  `REVISION` INTEGER(11) DEFAULT NULL,
  `CREATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL,
  `CREATED_TIME` DATETIME NOT NULL,
  `UPDATED_BY` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `UPDATED_TIME` DATETIME DEFAULT NULL,
  `Status` INTEGER(11) NOT NULL DEFAULT 0 COMMENT '状态;1审核||0正常||-1失效',
  PRIMARY KEY USING BTREE (`TID`) COMMENT ''
)ENGINE=InnoDB
AUTO_INCREMENT=11 AVG_ROW_LENGTH=5461 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;

#
# Structure for the `users` table : 
#

CREATE TABLE `users` (
  `U_Id` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `Rid` INTEGER(11) NOT NULL,
  `userName` VARCHAR(45) COLLATE utf8mb4_bin DEFAULT NULL,
  `passWord` VARCHAR(50) COLLATE utf8mb4_general_ci NOT NULL,
  `CreatorId` INTEGER(11) DEFAULT NULL,
  `CreateDate` DATETIME NOT NULL,
  `DataLevel` TINYINT(4) NOT NULL DEFAULT 0,
  `Email` VARCHAR(50) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `Sex` TINYINT(4) NOT NULL,
  `locked` TINYINT(1) NOT NULL,
  `UserImg` VARCHAR(100) COLLATE utf8mb4_general_ci NOT NULL,
  PRIMARY KEY USING BTREE (`U_Id`) COMMENT '',
  UNIQUE INDEX `userName_UNIQUE` USING BTREE (`userName`) COMMENT '',
   INDEX `Rid_idx` USING BTREE (`Rid`) COMMENT '',
   INDEX `INDEX` USING BTREE (`userName`) COMMENT '',
  CONSTRAINT `users_fk1` FOREIGN KEY (`Rid`) REFERENCES `roles` (`R_Id`)
)ENGINE=InnoDB
AUTO_INCREMENT=7 AVG_ROW_LENGTH=8192 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci'
COMMENT=''
;



/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;